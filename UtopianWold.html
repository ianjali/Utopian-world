<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Anjali Mudgal">

<title>Utopian World</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="UtopianWold_files/libs/clipboard/clipboard.min.js"></script>
<script src="UtopianWold_files/libs/quarto-html/quarto.js"></script>
<script src="UtopianWold_files/libs/quarto-html/popper.min.js"></script>
<script src="UtopianWold_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="UtopianWold_files/libs/quarto-html/anchor.min.js"></script>
<link href="UtopianWold_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="UtopianWold_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="UtopianWold_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="UtopianWold_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="UtopianWold_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Utopian World</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Anjali Mudgal </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<p>Let’s import the required libraries</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rfit </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(style<span class="op">=</span><span class="st">'darkgrid'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Importing dataset for both the worlds</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>world1 <span class="op">=</span> rfit.dfapi(<span class="st">'World1'</span>, <span class="st">'id'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>world1.to_csv(<span class="st">"world1.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># world1 = pd.read_csv("world1.csv", index_col="id") # use this instead of hitting the server if csv is on local</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>world2 <span class="op">=</span> rfit.dfapi(<span class="st">'World2'</span>, <span class="st">'id'</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>world2.to_csv(<span class="st">"world2.csv"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># world2 = pd.read_csv("world2.csv", index_col="id") # use this instead of hitting the server if csv is on local</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Ready to continue."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Dataframe from Regression.Fit API is loaded.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Dataframe from Regression.Fit API is loaded.

Ready to continue.</code></pre>
</div>
</div>
<section id="question" class="level1">
<h1>Question</h1>
<section id="two-worlds" class="level2">
<h2 class="anchored" data-anchor-id="two-worlds">Two Worlds</h2>
</section>
</section>
<section id="section" class="level1">
<h1></h1>
<p>I was searching for utopia, and came to this conclusion: If you want to do it right, do it yourself. So I created two worlds.</p>
<section id="data-dictionary" class="level3">
<h3 class="anchored" data-anchor-id="data-dictionary">Data dictionary:</h3>
<ul>
<li>age00: the age at the time of creation. This is only the population from age 30-60.<br>
</li>
<li>education: years of education they have had. Education assumed to have stopped. A static data column.<br>
</li>
<li>marital: 0-never married, 1-married, 2-divorced, 3-widowed<br>
</li>
<li>gender: 0-female, 1-male (for simplicity)<br>
</li>
<li>ethnic: 0, 1, 2 (just made up)<br>
</li>
<li>income00: annual income at the time of creation<br>
</li>
<li>industry: (ordered with increasing average annual salary, according to govt data.)
<ol start="0" type="1">
<li>leisure n hospitality<br>
</li>
<li>retail<br>
</li>
<li>Education<br>
</li>
<li>Health<br>
</li>
<li>construction<br>
</li>
<li>manufacturing<br>
</li>
<li>professional n business<br>
</li>
<li>finance</li>
</ol></li>
</ul>
<p>Please do whatever analysis you need, convince your audience both, one, or none of these worlds is fair, or close to a utopia. Use plots, maybe pivot tables, and statistical tests (optional), whatever you deem appropriate and convincing, to draw your conclusions.</p>
<p>There are no must-dos (except plots), should-dos, cannot-dos. The more convenicing your analysis, the higher the grade. It’s an art.</p>
</section>
</section>
<section id="answer" class="level1">
<h1>Answer</h1>
<section id="defining-utopia" class="level2">
<h2 class="anchored" data-anchor-id="defining-utopia">Defining Utopia</h2>
<p>The definition of utopia is very subjective and hence before diving into the plots, I would define my definition of utopia. Personally for me, utopia is a place where the following conditions are satisfied</p>
<ol type="1">
<li>Equal pay scale irrespective of the industry(Clearly not satisfied for both the worlds) (<a href="#fig-industry">Figure&nbsp;1</a>)</li>
<li>Equal pay for all irrespective of</li>
</ol>
<ol type="i">
<li>Gender (<a href="#fig-income-g">Figure&nbsp;2</a>)</li>
<li>Ethnicity(<a href="#fig-income-e">Figure&nbsp;3</a>)</li>
</ol>
<ol start="3" type="1">
<li>Equal Job Opportunities (Unity and Diversity)</li>
</ol>
<ol type="i">
<li>Equal distribution of Gender(<a href="#fig-industry-gender">Figure&nbsp;8</a>)</li>
<li>Ethnicity(<a href="#fig-industry-ethnic">Figure&nbsp;9</a>) in various Job Sector</li>
</ol>
<ol start="4" type="1">
<li>Equal education opportunities for both men and women.(<a href="#fig-education">Figure&nbsp;5</a>)</li>
<li>Happy married life among people</li>
</ol>
</section>
<section id="data-preprocessing" class="level2">
<h2 class="anchored" data-anchor-id="data-preprocessing">Data Preprocessing</h2>
<section id="summary-of-dataset" class="level3">
<h3 class="anchored" data-anchor-id="summary-of-dataset">Summary of Dataset</h3>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print(f"world 1 is : {world1.info()}\n")</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#print(f"world 2 is : {world2.info()}")</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">#print(f"world 1 is : {world1.describe()}\n")</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print(f"world 2 is : {world2.describe()}")</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"World 1 data </span><span class="ch">\n</span><span class="sc">{</span>world1<span class="sc">.</span>head()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"World 2 data </span><span class="ch">\n</span><span class="sc">{</span>world2<span class="sc">.</span>head()<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>World 1 data 
     age00  education  marital  gender  ethnic  industry  income00
id                                                                
0   51.965         17        0       1       0         5   76110.0
1   41.807         12        1       0       0         1   43216.0
2   36.331         12        1       0       1         3   52118.0
3   56.758          9        1       1       2         2   47770.0
4   31.051         14        0       0       0         0   34197.0
World 2 data 
     age00  education  marital  gender  ethnic  industry  income00
id                                                                
0   34.629         12        0       0       2         4   52533.0
1   48.403         16        1       1       1         0   29507.0
2   50.327         14        1       1       2         7  122156.0
3   45.059         11        1       1       1         2   53249.0
4   59.616         16        0       1       0         4   75917.0</code></pre>
</div>
</div>
</section>
<section id="renaming-the-variables" class="level3">
<h3 class="anchored" data-anchor-id="renaming-the-variables">Renaming the variables</h3>
<p>Renaming variables</p>
<ul>
<li>age00 -&gt; age</li>
<li>income00 -&gt; income</li>
</ul>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>world1 <span class="op">=</span> world1.rename(columns <span class="op">=</span> {<span class="st">"income00"</span>: <span class="st">"income"</span>,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"age00"</span>:<span class="st">"age"</span>})</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>world2 <span class="op">=</span> world2.rename(columns <span class="op">=</span> {<span class="st">"income00"</span>: <span class="st">"income"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"age00"</span>:<span class="st">"age"</span>})                                  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="data-analysis" class="level1">
<h1>Data Analysis</h1>
<section id="annual-income-division-among-various-industries" class="level2">
<h2 class="anchored" data-anchor-id="annual-income-division-among-various-industries">1. Annual Income Division among various Industries</h2>
<p>Checking whether the difference in annual income among industries is neglible</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> comparison(x_var,y_var):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    f, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>,sharex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span>].set_title(<span class="st">'For world 1'</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    sns.violinplot( x<span class="op">=</span>x_var,y<span class="op">=</span>y_var,  data<span class="op">=</span>world1,ax<span class="op">=</span>axes[<span class="dv">0</span>])</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">1</span>].set_title(<span class="st">'For world 2'</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    sns.violinplot( x<span class="op">=</span>x_var,y<span class="op">=</span>y_var,  data<span class="op">=</span>world2,ax<span class="op">=</span> axes[<span class="dv">1</span>])</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    sns.despine(left<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>comparison(<span class="st">'industry'</span>,<span class="st">'income'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="fig-industry" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-industry-output-1.png" width="622" height="455" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Checking income distribution among various industries</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>As mentioned in the question, there is a difference in annual income among various sectors. But as seen from the plots the difference is huge in both the worlds.<br>
This doesn’t align with my definition of utopia. Reason : Each job/industry should be treated equally and hence, the pay scale should be same among all.</p>
</section>
<section id="equal-pay-distribution-irrespective-of-genderethnicity" class="level2">
<h2 class="anchored" data-anchor-id="equal-pay-distribution-irrespective-of-genderethnicity">2. Equal Pay Distribution irrespective of Gender/Ethnicity</h2>
<p>Both Gender or all three ethnic groups should have equal distribution of income for utopia. Reason : When the income distribution is irrespective of my gender/ ethnicity it would be close to idealistic world.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> kdePlot(x_var,hue_var,d1,d2):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Kernel density plot for x_var for different categories of hue variable </span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">        x_var (numeric): income/age</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">        hue_var (categorical): ethnicity/marital status/gender</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">        d1 (dataset): plot on left side</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">        d2 (datset): plot on right side</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    f, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>,sharex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span>].set_title(<span class="st">'For world 1'</span>)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    sns.kdeplot(x<span class="op">=</span>x_var, hue<span class="op">=</span>hue_var, data<span class="op">=</span>d1,ax<span class="op">=</span>axes[<span class="dv">0</span>], shade<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">1</span>].set_title(<span class="st">'For world 2'</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    sns.kdeplot(x<span class="op">=</span>x_var, hue<span class="op">=</span>hue_var, data<span class="op">=</span>d2,ax<span class="op">=</span>axes[<span class="dv">1</span>], shade<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> violen2var(x_var,y_var):</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Violen Plot with two variables </span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co">        x_var (categorical): gender/ethnicity</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co">        y_var (numeric): income/age</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    f, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>,sharex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span>].set_title(<span class="st">'For world 1'</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    sns.violinplot( x<span class="op">=</span>x_var,y<span class="op">=</span>y_var,  split<span class="op">=</span><span class="va">True</span>, inner<span class="op">=</span><span class="st">"quart"</span>, ax<span class="op">=</span>axes[<span class="dv">0</span>], data<span class="op">=</span>world1)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">1</span>].set_title(<span class="st">'For world 2'</span>)</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    sns.violinplot( x<span class="op">=</span>x_var,y<span class="op">=</span>y_var,  split<span class="op">=</span><span class="va">True</span>, inner<span class="op">=</span><span class="st">"quart"</span>, ax<span class="op">=</span>axes[<span class="dv">1</span>], data<span class="op">=</span>world2)</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    sns.despine(left<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A kernel density estimate (KDE) and violen plot to visualize the distribution of income based on Gender/Ethnicity.</p>
<div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>violen2var(<span class="st">"gender"</span>,<span class="st">"income"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>kdePlot(<span class="st">'income'</span>,<span class="st">'gender'</span>,world1,world2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-income-g" class="cell quarto-layout-panel" data-execution_count="7">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 51.2%;justify-content: center;">
<div id="fig-income-g-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-income-g-output-1.png" class="img-fluid figure-img" data-ref-parent="fig-income-g" width="622"></p>
<p></p><figcaption class="figure-caption">(a) Violen Plot</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 48.8%;justify-content: center;">
<div id="fig-income-g-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-income-g-output-2.png" class="img-fluid figure-img" data-ref-parent="fig-income-g" width="593"></p>
<p></p><figcaption class="figure-caption">(b) Kernel Density Plot</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: Income distribution among various gender</figcaption><p></p>
</figure>
</div>
</div>
<div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>violen2var(<span class="st">"ethnic"</span>,<span class="st">"income"</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>kdePlot(<span class="st">'income'</span>,<span class="st">'ethnic'</span>,world1,world2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-income-e" class="cell quarto-layout-panel" data-execution_count="8">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 51.7%;justify-content: center;">
<div id="fig-income-e-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-income-e-output-1.png" class="img-fluid figure-img" data-ref-parent="fig-income-e" width="622"></p>
<p></p><figcaption class="figure-caption">(a) Violen Plot</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 48.3%;justify-content: center;">
<div id="fig-income-e-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-income-e-output-2.png" class="img-fluid figure-img" data-ref-parent="fig-income-e" width="581"></p>
<p></p><figcaption class="figure-caption">(b) Kernel Density Plot</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;3: Income distribution among various ethnicity</figcaption><p></p>
</figure>
</div>
</div>
<p>The following conclusions can be drawn away from the above plots</p>
<section id="world-1" class="level4">
<h4 class="anchored" data-anchor-id="world-1">World 1</h4>
<ul>
<li>The distribution of income for both genders are different</li>
<li>We need to check whether this difference is due to the industry that they work in(Since, each one is paying differently) or pay discrepancy based on Gender(within the industry itself)</li>
</ul>
</section>
<section id="world-2" class="level4">
<h4 class="anchored" data-anchor-id="world-2">World 2</h4>
<ul>
<li>The distribution of income for both gender and ethnicity is almost similar for world 2</li>
</ul>
</section>
<section id="finding-the-root-cause-of-annual-income-difference-based-on-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="finding-the-root-cause-of-annual-income-difference-based-on-the-dataset">Finding the root cause of annual income difference based on the dataset</h3>
<ul>
<li><p>The difference could be because of following reasons :</p>
<ol type="1">
<li>Pay Discrepancy in Industries based on gender/ ethnicity (<a href="#fig-pay-ge">Figure&nbsp;4</a>)</li>
<li>Difference in education background of both the genders(<a href="#fig-education">Figure&nbsp;5</a>)</li>
<li>Difference in Marital status distribution, since added responsibilities due to marital status could mean striving to get better job. (<a href="#fig-marital">Figure&nbsp;6</a>)</li>
<li>Age</li>
<li>The difference in distribution of industry based on gender (<a href="#fig-industry-gender">Figure&nbsp;8</a>)/ethnicity (<a href="#fig-industry-ethnic">Figure&nbsp;9</a>)
<ul>
<li>Gender ratio is different (<a href="#fig-gender">Figure&nbsp;7</a>) Let’s try to plot and look out for the above reasons :</li>
</ul></li>
</ol></li>
</ul>
</section>
<section id="pay-discrepancy-in-industries-based-on-genderethnicity" class="level3">
<h3 class="anchored" data-anchor-id="pay-discrepancy-in-industries-based-on-genderethnicity">2.1 Pay Discrepancy in Industries based on Gender/Ethnicity</h3>
<p>If the industries are paying unequally based on the gender/ ethnicity of a person, it wouldn’t be considered utopian.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> violenPlot(x_var,y_var,hue_var):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Violen Plot with x_var at x axis,y_var at y and color coded with hue_var</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">        x_var (categorical)</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">        y_var (numeric)</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">        colr_var (categorical)</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    f, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>,sharex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span>].set_title(<span class="st">'For world 1'</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    sns.violinplot(x<span class="op">=</span>x_var, y<span class="op">=</span>y_var, hue<span class="op">=</span>hue_var, split<span class="op">=</span><span class="va">True</span>, inner<span class="op">=</span><span class="st">"quart"</span>, data<span class="op">=</span>world1,ax<span class="op">=</span>axes[<span class="dv">0</span>])</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">1</span>].set_title(<span class="st">'For world 2'</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    sns.violinplot(x<span class="op">=</span>x_var, y<span class="op">=</span>y_var, hue<span class="op">=</span>hue_var,  split<span class="op">=</span><span class="va">True</span>, inner<span class="op">=</span><span class="st">"quart"</span>, data<span class="op">=</span>world2,ax<span class="op">=</span>axes[<span class="dv">1</span>])</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> boxPlot(x_var,y_var,hue_var):</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Box with x_var at x axis,y_var at y and color coded with hue_var</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="co">        x_var (categorical)</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co">        y_var (numeric)</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co">        colr_var (categorical)</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    f, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>,sharex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span>].set_title(<span class="st">'For world 1'</span>)</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    sns.boxplot(x <span class="op">=</span>x_var,y <span class="op">=</span> y_var,hue <span class="op">=</span> hue_var,data<span class="op">=</span>world1,ax<span class="op">=</span>axes[<span class="dv">0</span>])</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">1</span>].set_title(<span class="st">'For world 2'</span>)</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    sns.boxplot(x <span class="op">=</span>x_var,y <span class="op">=</span> y_var,hue <span class="op">=</span> hue_var,data<span class="op">=</span>world2,ax<span class="op">=</span>axes[<span class="dv">1</span>])</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-pay-ge" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>violenPlot(<span class="st">'industry'</span>,<span class="st">'income'</span>,<span class="st">'gender'</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>boxPlot(<span class="st">'industry'</span>,<span class="st">'income'</span>,<span class="st">'ethnic'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="fig-pay-ge-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-pay-ge-output-1.png" data-ref-parent="fig-pay-ge" width="657" height="464" class="figure-img"></p>
<p></p><figcaption class="figure-caption">(a) Pay Distribution of industries color coded by Gender</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div id="fig-pay-ge-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-pay-ge-output-2.png" data-ref-parent="fig-pay-ge" width="657" height="464" class="figure-img"></p>
<p></p><figcaption class="figure-caption">(b) Pay Distribution of industries color coded by Ethnicity</figcaption><p></p>
</figure>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;4: Checking Pay Distribution of industries based on Gender</figcaption><p></p>
</figure>
</div>
<dl>
<dt>Observation for both worlds</dt>
<dd>
<ul>
<li>No difference in the income in each industry based on gender.</li>
<li>No difference in the income in each industry based on ethnicity.</li>
</ul>
</dd>
</dl>
</section>
<section id="checking-education-background-of-the-two-genders" class="level3">
<h3 class="anchored" data-anchor-id="checking-education-background-of-the-two-genders">2.2 Checking Education background of the two Genders</h3>
<p>Equal education opportunities should be given to all people irrespective of their gender and ethnicity. Also since the there is variation in income based on gender/ethnicity, we would like to see whether this variation is due to education or not.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plotHist(x_var,hue_var):</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Histogram with x_var on x axis and color coded by hue_var</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">        x_var (catgorical/numeric)</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">        hue_var (categorical)</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    f, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>,sharex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span>].set_title(<span class="st">'For world 1'</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create an array with the colors you want to use</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#x="industry", hue="gender"</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    sns.histplot(data<span class="op">=</span>world1, x<span class="op">=</span>x_var, hue<span class="op">=</span>hue_var,ax<span class="op">=</span>axes[<span class="dv">0</span>],multiple<span class="op">=</span><span class="st">'dodge'</span>,palette<span class="op">=</span><span class="st">'colorblind'</span>,binwidth<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">1</span>].set_title(<span class="st">'For world 2'</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    sns.histplot(data<span class="op">=</span>world2, x<span class="op">=</span>x_var, hue<span class="op">=</span>hue_var,ax<span class="op">=</span>axes[<span class="dv">1</span>],multiple<span class="op">=</span><span class="st">'dodge'</span>,palette<span class="op">=</span><span class="st">'colorblind'</span>,binwidth<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-education" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plotHist(<span class="st">'education'</span>,<span class="st">'gender'</span>) </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>plotHist(<span class="st">'education'</span>,<span class="st">'ethnic'</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="fig-education-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-education-output-1.png" data-ref-parent="fig-education" width="656" height="464" class="figure-img"></p>
<p></p><figcaption class="figure-caption">(a) Distribution of Education based on Gender</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div id="fig-education-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-education-output-2.png" data-ref-parent="fig-education" width="656" height="464" class="figure-img"></p>
<p></p><figcaption class="figure-caption">(b) Distribution of Education based on Ethnicity</figcaption><p></p>
</figure>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;5: Checking distribution of Education based on Gender/Ethnicity</figcaption><p></p>
</figure>
</div>
<p>As seen from above plots there is no issue of lack of education among gender and hence both the genders are getting equal education opportunities and are equally capable for both the worlds.</p>
</section>
<section id="checking-marital" class="level3">
<h3 class="anchored" data-anchor-id="checking-marital">2.3 Checking Marital</h3>
<p>The reason for considering marital status for unequal income distribution is because</p>
<ul>
<li>Since two people would be earning in an ideal world, they will have less pressure of taking a high paying job.</li>
<li>Divorced/Widowed people might have a high pressure of getting a high paying job. Hence, it might affect the gender/ethnic composition among various industries</li>
</ul>
<div id="fig-marital" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>plotHist(<span class="st">'marital'</span>,<span class="st">'gender'</span>)    </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>plotHist(<span class="st">'marital'</span>,<span class="st">'ethnic'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="fig-marital-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-marital-output-1.png" data-ref-parent="fig-marital" width="656" height="464" class="figure-img"></p>
<p></p><figcaption class="figure-caption">(a) Distribution of Marital Status based on Gender</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div id="fig-marital-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-marital-output-2.png" data-ref-parent="fig-marital" width="656" height="464" class="figure-img"></p>
<p></p><figcaption class="figure-caption">(b) Distribution of Marital Status based on Ethnicity</figcaption><p></p>
</figure>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;6: Checking distribution of Marital Status based on Gender</figcaption><p></p>
</figure>
</div>
<dl>
<dt>Observation</dt>
<dd>
<ul>
<li>Every marital status distribution is also similar among the two genders.</li>
<li>Hence, the unequal distribution among industries is not due to any marital responsibilities among genders/ ethnic groups</li>
</ul>
</dd>
</dl>
<p>For world 2, there are more percentage of gender 0(female) who are divorced/widowed</p>
<ul>
<li>Less number of people are divorced and widowed and hence that could mean that people are happy with there marriages.</li>
</ul>
</section>
<section id="checking-age" class="level3">
<h3 class="anchored" data-anchor-id="checking-age">2.4 Checking Age</h3>
<p>The reason for checking age is</p>
<ul>
<li>As few industries might require experienced people for work and thus we would check age as well for this difference.</li>
</ul>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>sns.swarmplot(x<span class="op">=</span><span class="st">"industry"</span>, y<span class="op">=</span><span class="st">"age"</span>, hue<span class="op">=</span><span class="st">"gender"</span>, palette<span class="op">=</span>[<span class="st">"r"</span>, <span class="st">"c"</span>, <span class="st">"y"</span>], data<span class="op">=</span>world1)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="UtopianWold_files/figure-html/cell-15-output-1.png" width="589" height="435"></p>
</div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sns.swarmplot(x<span class="op">=</span><span class="st">"industry"</span>, y<span class="op">=</span><span class="st">"age"</span>, hue<span class="op">=</span><span class="st">"ethnic"</span>, palette<span class="op">=</span>[<span class="st">"r"</span>, <span class="st">"c"</span>, <span class="st">"y"</span>], data<span class="op">=</span>world1)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="UtopianWold_files/figure-html/cell-16-output-1.png" width="589" height="435"></p>
</div>
</div>
<dl>
<dt>Observation</dt>
<dd>
For different age groups we can observe the difference in ethnicity and gender. Hence, age is not the factor for this low participation of gender 0 and ethnicity 0/1 from the high paying industries.
</dd>
</dl>
</section>
<section id="difference-in-distribution-of-industry-based-on-genderethnicty" class="level3">
<h3 class="anchored" data-anchor-id="difference-in-distribution-of-industry-based-on-genderethnicty">2.5/3. Difference in distribution of industry based on Gender/Ethnicty</h3>
</section>
<section id="checking-gender-ratio" class="level3">
<h3 class="anchored" data-anchor-id="checking-gender-ratio">3.1 Checking Gender Ratio</h3>
<p>Less population of gender 0(female), ethnic1 and ethnic 2 population can also result in this unequal distribution of income and hence we need to check that as well.</p>
<div id="fig-gender" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> countPlot(x_var):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Count plot with x_var on x axis </span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co">        x_var (categorical): will plot the entries count corresponding to the particular category</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    f, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>,sharex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">0</span>].set_title(<span class="st">'For world 1'</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    sns.countplot(x<span class="op">=</span>x_var,data<span class="op">=</span>world1,ax<span class="op">=</span>axes[<span class="dv">0</span>])</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    axes[<span class="dv">1</span>].set_title(<span class="st">'For world 2'</span>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    sns.countplot(x<span class="op">=</span>x_var,  data<span class="op">=</span>world2,ax<span class="op">=</span>axes[<span class="dv">1</span>])           </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    plt.show()  </span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>countPlot(<span class="st">'gender'</span>)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>countPlot(<span class="st">'ethnic'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="fig-gender-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-gender-output-1.png" data-ref-parent="fig-gender" width="656" height="464" class="figure-img"></p>
<p></p><figcaption class="figure-caption">(a) Gender</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div id="fig-gender-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-gender-output-2.png" data-ref-parent="fig-gender" width="656" height="464" class="figure-img"></p>
<p></p><figcaption class="figure-caption">(b) Ethnicity</figcaption><p></p>
</figure>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;7: Distribution of gender and ethnic Groups</figcaption><p></p>
</figure>
</div>
<dl>
<dt>Observation</dt>
<dd>
As seen from the above plot the gender and ethnic ratio is well maintained in both the worlds and hence both worlds satisfy this condition. Also, income disparity based on gender/ethnicity is not justified by population density as well.
</dd>
</dl>
</section>
<section id="checking-distribution-of-industry-based-on-genderethnic-group" class="level3">
<h3 class="anchored" data-anchor-id="checking-distribution-of-industry-based-on-genderethnic-group">3.2 Checking Distribution of Industry based on Gender/Ethnic Group</h3>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plotHist(<span class="st">'industry'</span>,<span class="st">'gender'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="fig-industry-gender" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-industry-gender-output-1.png" width="656" height="464" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;8: Checking distribution of industries based on Gender</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>plotHist(<span class="st">'industry'</span>,<span class="st">'ethnic'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="fig-industry-ethnic" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="UtopianWold_files/figure-html/fig-industry-ethnic-output-1.png" width="656" height="464" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;9: Checking distribution of industries based on Ethnicity</figcaption><p></p>
</figure>
</div>
</div>
</div>
<dl>
<dt>Observations</dt>
<dd>
<ul>
<li>Gender 0 (Females) are less likely to get a job in industry 4(construction), 6(Manufacturing) , 7(Finance) which have a high pay scale.</li>
<li>Unequal distribution of ethnic group in different industries, high paying industries have more number of people with ethnicity = 2</li>
</ul>
</dd>
<dt>Conclusions</dt>
<dd>
Hence, we can find the following results
</dd>
</dl>
<ul>
<li>For WORLD 1
<ul>
<li>There is a unequal distribution of gender with same qualification among different industries.</li>
<li>There is a unequal distribution of ethnicity with same qualification/marital status/education among various industries</li>
</ul></li>
<li>For World 2
<ul>
<li>No such division based on gender and ethnicity is observed</li>
</ul></li>
</ul>
</section>
<section id="hypothesis-testing" class="level3">
<h3 class="anchored" data-anchor-id="hypothesis-testing">Hypothesis Testing</h3>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#For testing our analysis we will subgroup our dataset for both worlds</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co">#world1</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co">#gender</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>gender0_w1 <span class="op">=</span> world1[world1[<span class="st">'gender'</span>] <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>gender1_w1 <span class="op">=</span> world1[world1[<span class="st">'gender'</span>] <span class="op">==</span> <span class="dv">1</span>]</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">#ethnic</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>ethnic1_w1 <span class="op">=</span> world1[world1[<span class="st">'ethnic'</span>] <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>ethnic2_w1 <span class="op">=</span> world1[world1[<span class="st">'ethnic'</span>] <span class="op">==</span> <span class="dv">1</span>]</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>ethnic3_w1 <span class="op">=</span> world1[world1[<span class="st">'ethnic'</span>] <span class="op">==</span> <span class="dv">2</span>]</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co">#world 2</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co">#gender</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>gender0_w2 <span class="op">=</span> world2[world2[<span class="st">'gender'</span>] <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>gender1_w2 <span class="op">=</span> world2[world2[<span class="st">'gender'</span>] <span class="op">==</span> <span class="dv">1</span>]</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co">#ethnic</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>ethnic1_w2 <span class="op">=</span> world2[world2[<span class="st">'ethnic'</span>] <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>ethnic2_w2 <span class="op">=</span> world2[world2[<span class="st">'ethnic'</span>] <span class="op">==</span> <span class="dv">1</span>]</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>ethnic3_w2 <span class="op">=</span> world2[world2[<span class="st">'ethnic'</span>] <span class="op">==</span> <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> ttest(data1,data2):</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#H0: the means of the samples are equal.</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#H1: the means of the samples are unequal </span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    stat, p <span class="op">=</span> stats.ttest_ind(data1, data2)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'stat=</span><span class="sc">%.3f</span><span class="st">, p=</span><span class="sc">%.3f</span><span class="st">'</span> <span class="op">%</span> (stat, p))</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> p <span class="op">&gt;</span> <span class="fl">0.05</span>:</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'Cannot reject the null hypothesis. Probably the similar distribution'</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'Reject the null hypothesis. Probably different distributions'</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> anovaTest3var(data1,data2,data3):</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    stat, p <span class="op">=</span> stats.f_oneway(data1, data2, data3)</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'stat=</span><span class="sc">%.3f</span><span class="st">, p=</span><span class="sc">%.3f</span><span class="st">'</span> <span class="op">%</span> (stat, p))</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> p <span class="op">&gt;</span> <span class="fl">0.05</span>:</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'Cannot reject the null hypothesis. Probably the similar distribution'</span>)</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'Reject the null hypothesis. Probably different distributions'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="t-test" class="level4">
<h4 class="anchored" data-anchor-id="t-test">T Test</h4>
<ul>
<li>H0 : Gender 0 and Gender 1 have similar income distribution</li>
<li>H1 : Gender 0 and Gender 1 have different income distribution</li>
</ul>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"For world 1 :</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>ttest(gender0_w1[<span class="st">'income'</span>],gender1_w1[<span class="st">'income'</span>])</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">For world 2 :"</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>ttest(gender0_w2[<span class="st">'income'</span>],gender1_w2[<span class="st">'income'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>For world 1 :

stat=-30.383, p=0.000
Reject the null hypothesis. Probably different distributions

For world 2 :
stat=-0.848, p=0.397
Cannot reject the null hypothesis. Probably the similar distribution</code></pre>
</div>
</div>
</section>
<section id="anova-test" class="level4">
<h4 class="anchored" data-anchor-id="anova-test">Anova Test</h4>
<ul>
<li>H0 : Ethnicity 0, 1 and 2 have similar income distribution</li>
<li>H1 : Ethnicity 0,1 and 2 have different income distribution</li>
</ul>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">For world 1"</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>anovaTest3var(ethnic1_w1[<span class="st">'income'</span>],ethnic2_w1[<span class="st">'income'</span>],ethnic3_w1[<span class="st">'income'</span>])</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">For world2:"</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>anovaTest3var(ethnic1_w2[<span class="st">'income'</span>],ethnic2_w2[<span class="st">'income'</span>],ethnic3_w2[<span class="st">'income'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
For world 1
stat=1125.692, p=0.000
Reject the null hypothesis. Probably different distributions

For world2:
stat=0.343, p=0.710
Cannot reject the null hypothesis. Probably the similar distribution</code></pre>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="conclusions" class="level1">
<h1>Conclusions</h1>
<p>At last, based on the above plots and test, we can conclude that both worlds are not utopian but world 2 is more close to my definition of utopia. The results can be summarised below :</p>
<div id="tbl-first" class="anchored">
<table class="table">
<caption>Table&nbsp;1: Summary</caption>
<colgroup>
<col style="width: 48%">
<col style="width: 23%">
<col style="width: 15%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Heading</th>
<th>Plots/Tests</th>
<th>World1</th>
<th>World2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Income distribution among industries</td>
<td><a href="#fig-industry">Figure&nbsp;1</a></td>
<td>Not Satisfied</td>
<td>Not Satisfied</td>
</tr>
<tr class="even">
<td>Equal income distribution among genders/ethnic groups</td>
<td><a href="#fig-income-g">Figure&nbsp;2</a>/<a href="#fig-income-e">Figure&nbsp;3</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr class="odd">
<td>Pay Discrepancy based in gender/ethnic groups</td>
<td><a href="#fig-pay-ge">Figure&nbsp;4</a></td>
<td>Not Satisifed</td>
<td>Satisfied</td>
</tr>
<tr class="even">
<td>Equal education oppurtunities for various groups</td>
<td><a href="#fig-education">Figure&nbsp;5</a></td>
<td>Satisfied</td>
<td>Satisified</td>
</tr>
<tr class="odd">
<td>Difference in marital status among different groups</td>
<td><a href="#fig-marital">Figure&nbsp;6</a></td>
<td>Satisified</td>
<td>Not Satisfied</td>
</tr>
<tr class="even">
<td>Gender ratio in Industries</td>
<td><a href="#fig-industry-gender">Figure&nbsp;8</a></td>
<td>Not Satisified</td>
<td>Satisfied</td>
</tr>
<tr class="odd">
<td>Ethnicity ratio in Industries</td>
<td><a href="#fig-industry-ethnic">Figure&nbsp;9</a></td>
<td>Not Satisified</td>
<td>Satisfied</td>
</tr>
<tr class="even">
<td>Equal Gender ratio</td>
<td><a href="#fig-gender">Figure&nbsp;7</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
</tbody>
</table>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>